<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>国际学院</title>
    <meta name="robots" content="all" />
    <meta name="author" content="author" />
    <meta name="Copyright" content="Tencent" />
    <link rel="stylesheet" href="public.css">
</head>
<body>
<ul class="linkTree">
    <li><a href="#" data-num="0"><img src="linkTreeDir.png" alt="">院系简介</a>
        <ul>
            <li><a href="#" class="active">地理位置</a></li>
            <li><a href="#">联系方式</a></li>
            <li><a href="#">人员领导</a></li>
        </ul>
    </li>
    <li class="open"><a href="#" data-num="1"><img src="linkTreeDir.png" alt="">现任领导</a>
        <ul>
            <li><a href="#">地理位置</a></li>
            <li><a href="#">联系方式</a></li>
            <li><a href="#">人员领导</a></li>
        </ul>
    </li>
    <li><a href="#" data-num="2"><img src="linkTreeDir.png" alt="">组织架构</a>
        <ul>
            <li><a href="#">地理位置</a></li>
            <li><a href="#">联系方式</a></li>
            <li><a href="#">人员领导</a></li>
        </ul>
    </li>
    <li><a href="#" data-num="3"><img src="linkTreeDir.png" alt="">组织架构</a>
        <ul>
            <li><a href="#">地理位置</a></li>
            <li><a href="#">联系方式</a></li>
            <li><a href="#">人员领导</a></li>
        </ul>
    </li>
</ul>

    <script src="../jquery.min.js"></script>
    <script>
    $(function(){
        var count = $(".linkTree").children('li').length;
        var i=new Array(count);
        var o =  $(".linkTree").children('.open').find('a').attr('data-num');
        for(var n=0;n<count;n++){
            if (n==o) {
                i[n]=0;
            }else{
                i[n]=1;
            }
        }
        $(".linkTree>li>a").on("click",function(){
            // 显示关闭
            $(this).parent().siblings('li').find('a').next().hide();
            $(this).next().slideToggle(400);
            var num = $(this).attr("data-num");
            // 一级菜单左侧图片效果
            if(i[num]==1){//点击打开
                $(this).parent().siblings('li').removeClass('open');
                $(this).parent().addClass('open');
                for(var n=0;n<count;n++){
                    i[n]=1;
                }
                i[num]++;
            }else{//点击关闭
                $(this).parent().siblings('li').removeClass('open');
                $(this).parent().removeClass('open');
                for(var n=0;n<count;n++){
                    i[n]=1;
                }
            }
        });
    })
    </script>
</body>
</html>